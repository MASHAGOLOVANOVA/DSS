# **Практическая работа №2**

## 1. **Определение API**
   
   В рамках моей работы есть плюсы применения и синхронного апи и ассинхронного.
   Для операций, которые требуют немедленного ответа от приложения стоит использовать синхронный API, а для операций, которые могут выполняться в фоновом режиме, например обработка добавления студента, стоит использовать ассинхронный API.

   Таким образом, стоит ввыбрать смешанный подход. Для получения данных использовать PEST API, а для обработки событий - RabbitMQ.

   RabbitMQ был выбран исходя из следующих преимуществ:
   - поддерживается Go + python - технологический стек системы
   - имеет удобный веб-интерфейс для мониторинга
   - хорошая документация.

   Ранее система была реализована через синхронный API, с помощью фреймворка chi, его выбор был обоснован в П1.

   Было добавлено использование ассинхронного API через RabbitMQ, для обработки событий добавления студентов в tg-bot на python (client) с помощью библиотеки pika и обработку поступившего сообщения на сервере с помощью библиотеки.

   Для telegram бота на python использовалась библиотека pika.

   Библиотека обладает следующими преимуществами:
   - Простота использования
   - Ассинхронная обработка сообщений
   - Гибкая маршрутизация
   - Поддержка подтверждений сообщений
   - Поддержка различных форматов сообщений
   - Хорошая документация засчет популярности библиотеки

   Для сервера go использовалась библиотека github.com/streadway/amqp

   Библиотека обладает следующими плюсами:
   - Поддержка различныхфункций RabbitMQ: управление очередями, отправка и получение сообщений, подтверждение сообщений, маршрутизация сообщений.
   - Ассинхронная обработка сообщений
   - Поддержка различных типов сообщений xml, json (который используется в системе)
   - Простота использования
   
   Репо: https://github.com/MASHAGOLOVANOVA/mvp-2-spms
   
   ПР: https://github.com/MASHAGOLOVANOVA/mvp-2-spms/pull/1

   tg-bot: 

## 2. **Микросервисы**
  Система была разделена на микросервисы:
  1. Основной сервис
  2. Сервис для работы со студентами
  3. 

Интерфейсы для сервиса студентов:

Интерфейс для сервиса университетов:

В дальнейшем планируется развивать разбиение на сервисы, на данный момент не хватило времени на реализацию микросервисной архитектуры - очень большое монолитное приложение.

Микросервисная архитектура позволила бы сделать приложение более отказоустойчивым, позволило бы быть гибким в выборе технологий для новых модулей.

## 3. **Docker**

Докерфайл для сервиса по работе со студентами

Докерфайл для сервиса по работе с университетами

Докер-компоуз файл

## 4. **Тесты**
  Были написаны тесты для проверки работы микросервисов


## 4. **Шаблонный репозиторий**

  В рамках работы репозиториев для всех репозиториев актуальны следующие методы:
  Например getAll(), getById().
  Полный круд предусмотрен не для всех репозиториев, так что стоит создать шаблонный репозиторий, состоящий из этих методов.
  
  
